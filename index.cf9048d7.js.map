{"mappings":"0sBAAA,IAAAA,EAAAC,EAAA,S,0BAIA,MAAMC,EAAc,IAAI,EAAAF,EAAAG,aAClBC,EAAO,CACXC,MAAOC,SAASC,cAAc,uBAC9BC,mBAAoBF,SAASC,cAAc,iBAC3CE,cAAeH,SAASC,cAAc,mBACtCG,iBAAkBJ,SAASC,cAAc,qBACzCI,UAAWL,SAASC,cAAc,eAClCK,aAAcN,SAASC,cAAc,kBACrCM,KAAMP,SAASC,cAAc,QAC7BO,SAAUR,SAASC,cAAc,gBAOnC,SAASQ,IACPX,EAAKC,MAAMW,UAAUC,OAAO,mBAC5Bb,EAAKC,MAAMW,UAAUE,SAAS,mBAC1Bd,EAAKS,KAAKG,UAAUG,OAAO,gBAC3Bf,EAAKS,KAAKG,UAAUI,IAAI,gBAC5BC,OAAOC,oBAAoB,UAAWC,E,CAGjCC,eAAeC,EAAkBC,GACtCX,KACA,EAAAY,EAAAC,cACAP,OAAOQ,iBAAiB,UAAWN,GACnC,IACErB,EAAY4B,SAAW,YAAYJ,IACnC,MAAMK,KAAEA,SAAe7B,EAAY8B,eAC/BX,OAAOY,WAAW,sBAAsBC,QAC1C9B,EAAKQ,aAAauB,UAkDxB,SAAmBJ,GACjB,MAAMK,EAAcL,EAAKK,YACtBC,KAAIC,GACI,wEAAwEA,EAAWC,uDAAuDD,EAAWE,wBAE7JC,KAAK,IAEFC,EAAOX,EAAKW,KACfL,KAAIM,GACI,uCAAuCA,WAE/CF,KAAK,IAER,MAAO,4CACgCV,EAAKa,4HAK/Bb,EAAKc,QAAQC,QAAQ,WAAY,mXAWNJ,sEAEzBX,EAAKgB,8BACLhB,EAAKiB,4FAGyBZ,gDACRL,EAAKkB,4B,CAvFRC,CAAUnB,GAExC3B,EAAKQ,aAAauB,UASxB,SAAmBJ,GACjB,MAAMK,EAAcL,EAAKK,YACtBC,KAAIC,GACI,wEAAwEA,EAAWC,uDAAuDD,EAAWE,wBAE7JC,KAAK,IAEFC,EAAOX,EAAKW,KACfL,KAAIM,GACI,uCAAuCA,WAE/CF,KAAK,IAER,MAAO,kHAKMV,EAAKc,QAAQC,QAAQ,WAAY,mUAUPf,EAAKa,sEAE/Bb,EAAKgB,4BACLhB,EAAKiB,0EAE2BZ,iDACPM,gDACDX,EAAKkB,4B,CA5CRE,CAAUpB,E,CAE1C,MACAqB,EAAAC,GAASC,OAAOC,QAAQ,iD,CACzB,SACC,EAAA5B,EAAA6B,a,EA0FJ,SAASjC,EAAkBkC,GACT,WACZA,EAAEC,MACJ3C,G,CAvHJX,EAAKK,cAAcoB,iBAAiB,QAASd,GAC7CX,EAAKC,MAAMwB,iBAAiB,SA6G5B,SAA6B4B,GACvBA,EAAEE,gBAAkBF,EAAEG,QACxB7C,G,yCCjIG,SAAS8C,IACIvD,SAASC,cAAc,cAC/BuD,MAAMC,QAAU,O,CAGrB,SAASC,IACd,MAAMC,EAAY3D,SAASC,cAAc,cACzCc,OAAO6C,YAAW,WAChBD,EAAUH,MAAMC,QAAU,M,GACzB,K","sources":["src/js/modal-recipe.js","src/js/loader.js"],"sourcesContent":["import { UnsplashAPI } from './api';\nimport Notiflix from 'notiflix';\nimport { showLoader, hideLoader } from './loader';\n\nconst unsplashApi = new UnsplashAPI();\nconst refs = {\n  modal: document.querySelector('[data-modal-recipe]'),\n  openModalRecipeBtn: document.querySelector('.resipes-list'),\n  closeModalBtn: document.querySelector('.js-modal-close'),\n  addToFavoriteBtn: document.querySelector('.add-favorite-btn'),\n  ratingBtn: document.querySelector('.rating-btn'),\n  recipeMarkup: document.querySelector('.recipe-markup'),\n  body: document.querySelector('body'),\n  backdrop: document.querySelector('js-backdrop'),\n};\n\n\nrefs.closeModalBtn.addEventListener('click', toggleModal);\nrefs.modal.addEventListener('click', handleBackdropClick);\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden-modal');\n  refs.modal.classList.contains('is-hidden-modal')\n    ? refs.body.classList.remove('block-scroll')\n    : refs.body.classList.add('block-scroll');\n  window.removeEventListener('keydown', handleEscKeyPress);\n}\n\nexport async function heardleRecipeById(id) {\n  toggleModal();\n  showLoader();\n  window.addEventListener('keydown', handleEscKeyPress);\n  try {\n    unsplashApi.endpoint = `/recipes/${id}`;\n    const { data } = await unsplashApi.fetchRecipes();\n    if (window.matchMedia('(min-width: 720px)').matches) {\n      refs.recipeMarkup.innerHTML = markupTab(data);\n    } else {\n      refs.recipeMarkup.innerHTML = markupMob(data);\n    }\n  } catch {\n    Notiflix.Notify.warning('Sorry, something went wrong. Please try later.');\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction markupMob(data) {\n  const ingredients = data.ingredients\n    .map(ingredient => {\n      return `<li class=\"modal-recipte-list\"><span class=\"modal-recipte-list-ingr\">${ingredient.name}</span><span class=\"modal-recipte-list-measure\">${ingredient.measure}</span></li>`;\n    })\n    .join('');\n\n  const tags = data.tags\n    .map(tag => {\n      return `<li class=\"modal-recipe-tags-list\">#${tag}</li>`;\n    })\n    .join('');\n\n  return `\n        <iframe\n        class=\"modal-recipe-video\"\n        width=\"295\"\n        height=\"295\"\n        src=\"${data.youtube.replace('watch?v=', 'embed/')}\"\n        title=\"YouTube video player\" \n        frameborder=\"0\" \n        allow=\"accelerometer; autoplay; \n        clipboard-write; \n        encrypted-media; \n        gyroscope; \n        picture-in-picture;\n         web-share\" allowfullscreen>\n         </iframe>\n        <h1 class=\"modal-recipe-title\">${data.title}</h1>\n        <div class=\"recipe-rating-time\">\n          <p>${data.rating}</p>\n          <p>${data.time}</p>\n        </div>\n        <ul class=\"modal-recipe-ingredients\">${ingredients}</ul>\n        <ul class=\"modal-recipe-tags\">${tags}</ul>\n        <p class=\"modal-recipe-text\">${data.instructions}</p>\n        `;\n}\n\nfunction markupTab(data) {\n  const ingredients = data.ingredients\n    .map(ingredient => {\n      return `<li class=\"modal-recipte-list\"><span class=\"modal-recipte-list-ingr\">${ingredient.name}</span><span class=\"modal-recipte-list-measure\">${ingredient.measure}</span></li>`;\n    })\n    .join('');\n\n  const tags = data.tags\n    .map(tag => {\n      return `<li class=\"modal-recipe-tags-list\">#${tag}</li>`;\n    })\n    .join('');\n\n  return `\n        <h1 class=\"modal-recipe-title\">${data.title}</h1>\n        <iframe\n        class=\"modal-recipe-video\"\n        width=\"295\"\n        height=\"295\"\n        src=\"${data.youtube.replace('watch?v=', 'embed/')}\"\n        title=\"YouTube video player\" \n        frameborder=\"0\" \n        allow=\"accelerometer; autoplay; \n        clipboard-write; \n        encrypted-media; \n        gyroscope; \n        picture-in-picture;\n         web-share\" allowfullscreen>\n        </iframe>\n        <div class=\"modal-recipe-tags-rating\">\n          <ul class=\"modal-recipe-tags\">${tags}</ul>\n          <div class=\"recipe-rating-time\">\n            <p>${data.rating}</p>\n            <p>${data.time}</p>\n          </div>\n        </div>\n        <ul class=\"modal-recipe-ingredients\">${ingredients}</ul>\n        <p class=\"modal-recipe-text\">${data.instructions}</p>\n        `;\n}\n\nfunction handleBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    toggleModal();\n  }\n}\n\nfunction handleEscKeyPress(e) {\n  const ESC_KEY = 'Escape';\n  if (e.code === ESC_KEY) {\n    toggleModal();\n  }\n}\n","export function showLoader() {\n  const preloader = document.querySelector('.preloader');\n  preloader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  const preloader = document.querySelector('.preloader');\n  window.setTimeout(function () {\n    preloader.style.display = 'none';\n  }, 1500);\n}\n"],"names":["$7rYDH","parcelRequire","$3a36c188b96a085b$var$unsplashApi","UnsplashAPI","$3a36c188b96a085b$var$refs","modal","document","querySelector","openModalRecipeBtn","closeModalBtn","addToFavoriteBtn","ratingBtn","recipeMarkup","body","backdrop","$3a36c188b96a085b$var$toggleModal","classList","toggle","contains","remove","add","window","removeEventListener","$3a36c188b96a085b$var$handleEscKeyPress","async","$3a36c188b96a085b$export$24ba7ab31dab2ccb","id","$gjiCh","showLoader","addEventListener","endpoint","data","fetchRecipes","matchMedia","matches","innerHTML","ingredients","map","ingredient","name","measure","join","tags","tag","title","youtube","replace","rating","time","instructions","$3a36c188b96a085b$var$markupTab","$3a36c188b96a085b$var$markupMob","$parcel$interopDefault","$7Y9D8","Notify","warning","hideLoader","e","code","currentTarget","target","$bdfcdc80b4c38739$export$56525cbb1fcd885c","style","display","$bdfcdc80b4c38739$export$5cee2c2772922923","preloader","setTimeout"],"version":3,"file":"index.cf9048d7.js.map"}