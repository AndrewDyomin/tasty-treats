{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,uCAEaC,EAAmBC,SAASC,cAAc,yBAEjDC,EACJ,iE,SAYoBC,I,OAAAA,EAAfC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAEGC,EACAC,E,2FADiBC,EAAAC,QAAMC,IAAIV,G,OAA3BM,EAAQK,EAAAC,KACRL,EAASM,EAAaP,EAASQ,MACjCjB,IACFA,EAAiBkB,UAAYR,G,gDAG/BS,QAAQC,MAAKN,EAAAO,I,0DARoBC,MAAAC,KAAAC,U,CAcrC,SAASR,EAAaC,GACpB,OAAOA,EACJQ,KAAI,SAAAC,G,IAAGC,EAAOD,EAAPC,QAASC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YAAaC,EAAGJ,EAAHI,IAE/BC,EACFF,EAAYG,OAFK,GAGbH,EAAYI,UAAU,EAAGC,IAAkB,MAC3CL,EAEN,MAAO,8BAC2BM,OADGL,EAAI,8CACUK,OAAjBR,EAAQ,WAERQ,OAFiBP,EAAM,iGAGpBO,OADHP,EAAM,oDACgBO,OAAnBJ,EAAmB,wC,IAIzDK,KAAK,G,CAxCVpC,EAAiBqC,iBAAiB,SAElC,SAAyBC,GACvB,GAA0B,OAAtBA,EAAEC,OAAOC,SAAmB,CAC9B,IAAMC,EAAKH,EAAEC,OAAOG,QAAQ,MAAMD,IAClC,EAAAE,EAAAC,mBAAkBH,E,gBAIArC,EAAekB,MAAAC,KAAAC,U,CAYrCqB,E","sources":["src/js/popular-recipes.js"],"sourcesContent":["import axios from 'axios';\nimport { heardleRecipeById } from './modal-recipe';\nexport const popularRecipList = document.querySelector('.popular-recipes-list');\n\nconst BASE_URL =\n  'https://tasty-treats-backend.p.goit.global/api/recipes/popular';\n\n//Open Modal \npopularRecipList.addEventListener('click', openModalRecipe);\n\nfunction openModalRecipe(e) {\n  if (e.target.nodeName !== 'UL') {\n    const id = e.target.closest('li').id;\n    heardleRecipeById(id);\n  } \n} \n\nexport async function getPopularRecip() {\n  try {\n    const response = await axios.get(BASE_URL);\n    const markUp = createMarkUp(response.data);\n    if (popularRecipList) {\n      popularRecipList.innerHTML = markUp;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n\ngetPopularRecip();\n\nfunction createMarkUp(data) {\n  return data\n    .map(({ preview, title, description, _id }) => {\n      const MAX_LENGTH = 80;\n      let trimmedDescription =\n        description.length > MAX_LENGTH\n          ? description.substring(0, MAX_LENGTH - 3) + '...'\n          : description;\n\n      return `<li class=\"recip-item\" id=\"${_id}\">\n          <img class=\"recip-img\" src=\"${preview}\" alt=\"${title}\" width=\"64\"/>\n          <div class=\"recip-content\">\n            <h3 class=\"recip-heading\">${title}</h3>\n            <p class=\"recip-short-descr\">${trimmedDescription}</p>\n          </div>\n        </li>`;\n    })\n    .join('');\n}"],"names":["$bpxeT","parcelRequire","$0ad0c9864d236767$export$de57a657b611e97b","document","querySelector","$0ad0c9864d236767$var$BASE_URL","$0ad0c9864d236767$var$_getPopularRecip","$parcel$interopDefault","$2TvXO","mark","_callee","response","markUp","$dIxxU","default","get","_ctx","sent","$0ad0c9864d236767$var$createMarkUp","data","innerHTML","console","error","t0","apply","this","arguments","map","param","preview","title","description","_id","trimmedDescription","length","substring","MAX_LENGTH","concat","join","addEventListener","e","target","nodeName","id","closest","$7e2cb","heardleRecipeById","$0ad0c9864d236767$export$78212a558e483497"],"version":3,"file":"index.b43f62ce.js.map"}